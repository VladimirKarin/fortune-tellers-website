/* ================================================
   ğŸ§­ HEADER & NAVIGATION - Mobile-First Responsive System
   ================================================
   
   ğŸ“‹ TABLE OF CONTENTS:
   1. CSS Variables (Header Configuration)
   2. Base Header Styles
   3. Logo Styling
   4. Desktop Navigation
   5. Navigation Links & Interactions
   6. Mobile Navigation Button
   7. Off-Canvas Mobile Menu
   8. Responsive Breakpoints (Simplified)
   9. Accessibility Features
   10. Debug Utilities
*/

/* ===================================
   1ï¸âƒ£ CSS VARIABLES - HEADER CONFIGURATION
   =================================== */

:root {
    /* ğŸ“ Header sizing */
    --header-height: var(--spacing-xxxl); /* 74px - uses general.css variable */
    --header-height-mobile: 4.8rem; /* 48px - compact mobile header */
    --header-z-index: 1000; /* Stack order for header */

    /* ğŸ¨ Logo configuration */
    --header-logo-size-desktop: 5.2rem; /* 52px */
    --header-logo-size-mobile: 3.2rem; /* 32px */
    --header-logo-margin: var(--spacing-xl); /* Left margin (48px) */

    /* ğŸ“ Navigation typography */
    --header-nav-font-size: var(--font-size-sm); /* 14px from general.css */
    --header-nav-gap: var(--spacing-md); /* 24px - space between nav items */
    --header-nav-link-padding: 0.5rem 1.3rem; /* Vertical & horizontal padding */

    /* ğŸ“± Mobile menu configuration */
    --header-mobile-panel-width: 60%; /* Off-canvas panel width */
    --header-mobile-icon-size: 3.2rem; /* Mobile menu icon size */
    --header-mobile-transition: 320ms cubic-bezier(0.2, 0.9, 0.2, 1); /* Smooth slide */
}

/* ===================================
   2ï¸âƒ£ BASE HEADER STYLES
   =================================== */

/**
 * Fixed header bar
 * Stays at top of viewport on scroll with backdrop blur effect
 */
.header {
    /* Positioning */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    z-index: var(--header-z-index);

    /* Sizing */
    height: var(--header-height); /* 74px on desktop */

    /* Layout */
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 var(--spacing-md); /* 24px horizontal padding */
    box-sizing: border-box;

    /* Visual styling */
    background-color: var(
        --color-header-bg
    ); /* Semi-transparent from general.css */
    backdrop-filter: blur(5px); /* Modern glass effect */
    -webkit-backdrop-filter: blur(5px); /* Safari support */

    /* Safe area support for iOS notch */
    padding-top: calc(env(safe-area-inset-top, 0px));
}

/* ===================================
   3ï¸âƒ£ LOGO STYLING
   =================================== */

/**
 * Logo link container
 * Ensures logo is properly sized and positioned
 */
.logo {
    display: flex;
    align-items: center;
    margin-left: var(--header-logo-margin); /* 48px from left */
    transition: var(--transition-smooth); /* Smooth hover effects */
}

/* Logo hover effect */
.logo:hover {
    transform: scale(1.05); /* Slight enlarge on hover */
    opacity: 0.9; /* Slight fade */
}

/**
 * Logo image
 * Maintains aspect ratio with responsive sizing
 */
.logo__img {
    height: var(--header-logo-size-desktop); /* 52px on desktop */
    width: auto; /* Maintain aspect ratio */
    display: block;
    object-fit: contain; /* Prevent distortion */
    max-height: 6.2rem; /* Safety limit for very tall logos */
}

/* ===================================
   4ï¸âƒ£ DESKTOP NAVIGATION
   =================================== */

/**
 * Main navigation container
 * Horizontal layout on desktop, vertical on mobile
 */
.main-nav {
    display: flex;
    align-items: center;
    gap: var(--header-nav-gap); /* 24px between items */
}

/**
 * Navigation list
 * ğŸ”„ TRANSLATED: Horizontal on desktop, vertical off-canvas on mobile
 * Original: "nav list (desktop inline, mobile off-canvas)"
 */
.nav-list {
    list-style: none;
    display: flex;
    gap: var(--header-nav-gap); /* 24px gap between nav items */
    margin: 0;
    padding: 0;
    align-items: center;
}

/* ===================================
   5ï¸âƒ£ NAVIGATION LINKS & INTERACTIONS
   =================================== */

/**
 * Navigation link styling
 * Uppercase text with underline hover effect
 */
.nav-list li a {
    /* Layout */
    display: inline-block;
    padding: var(--header-nav-link-padding); /* 0.5rem 1.3rem */

    /* Typography */
    font-size: var(--header-nav-font-size); /* 14px */
    font-weight: 700; /* Bold */
    color: var(--color-text); /* Dark purple from general.css */
    text-transform: uppercase;
    text-decoration: none;
    line-height: 1;

    /* Positioning for pseudo-element */
    position: relative;

    /* Interaction */
    transition: color 160ms ease;
    -webkit-tap-highlight-color: transparent; /* Remove blue tap highlight on mobile */
}

/**
 * Animated underline effect
 * Uses GPU-accelerated transform for performance
 */
.nav-list li a::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    height: 2px;
    width: 100%;
    background-image: var(--btn-gradient); /* Purple-pink gradient */

    /* Animation setup */
    transform: scaleX(0); /* Hidden by default */
    transform-origin: left center;
    transition: transform 500ms cubic-bezier(0.2, 0.9, 0.2, 1);
    will-change: transform; /* Performance hint */
}

/**
 * Show underline on hover and focus
 * Expands from left to right
 */
.nav-list li a:hover::after,
.nav-list li a:focus::after,
.nav-list li a:focus-visible::after {
    transform: scaleX(1); /* Full width */
}

/**
 * Keyboard navigation focus ring
 * Visible outline for accessibility
 */
.nav-list li a:focus-visible {
    outline: 3px solid rgba(0, 0, 0, 0.12); /* Subtle outline */
    outline-offset: 4px; /* Space from link */
    border-radius: 4px; /* Rounded corners */
}

/* ===================================
   6ï¸âƒ£ MOBILE NAVIGATION BUTTON
   =================================== */

/**
 * Mobile menu toggle button
 * Hidden on desktop, visible on mobile
 */
.btn-mobile-nav {
    display: none; /* Hidden by default, shown in media queries */
    background: none;
    border: none;
    cursor: pointer;
    z-index: calc(var(--header-z-index) + 10); /* Above header */
    padding: 0.4rem;
    transition: var(--transition-smooth);
}

/* Mobile button hover effect */
.btn-mobile-nav:hover {
    transform: scale(1.1); /* Slight enlarge */
    opacity: 0.8;
}

/**
 * Mobile menu icon sizing
 * Hamburger and close icons
 */
.icon-mobile-nav {
    height: var(--header-mobile-icon-size); /* 32px */
    width: var(--header-mobile-icon-size);
    display: block;
    color: var(--color-text); /* Dark purple */
}

/**
 * Icon visibility toggle
 * Show hamburger by default, close icon when menu is open
 */
.open-icon {
    display: block; /* Visible by default */
}

.close-icon {
    display: none; /* Hidden by default */
}

/* When menu is open, swap icons */
.header.nav-open .open-icon {
    display: none;
}

.header.nav-open .close-icon {
    display: block;
}

/* ===================================
   7ï¸âƒ£ OFF-CANVAS MOBILE MENU
   =================================== */

/**
 * Mobile menu panel
 * ğŸ”„ TRANSLATED: Off-canvas side panel that slides in from right
 * Original: "Off-canvas panel behaviour: switch .nav-list to column and position fixed"
 * 
 * Hidden off-screen by default (translateX(100%))
 * Slides in when .nav-open class is added to .header
 */
/* This styling is applied via media queries below */

/* ===================================
   8ï¸âƒ£ RESPONSIVE BREAKPOINTS (SIMPLIFIED)
   =================================== */

/*
   ğŸ¯ OPTIMIZED: Reduced from 6 breakpoints to 4 for consistency
   Aligns with site standard: 1200px, 768px, 480px + default
*/

/* ğŸ“± LARGE DESKTOP & DESKTOP (â‰¤1200px) */
@media (max-width: 1200px) {
    .header {
        height: 6.4rem; /* Slightly shorter header */
        padding: 0 var(--spacing-md); /* 24px padding */
    }

    .logo {
        height: 6rem; /* Proportional logo height */
    }

    .nav-list {
        gap: var(--spacing-sm); /* Tighter gap (16px) */
    }

    .nav-list li a {
        font-size: var(--font-size-sm); /* 14px */
    }
}

/* ğŸ“± TABLET & MOBILE (â‰¤991px) - ENABLE OFF-CANVAS MENU */
@media (max-width: 991px) {
    .header {
        height: var(--header-height-mobile); /* 48px compact header */
        padding: 0 var(--spacing-sm); /* 16px padding */
    }

    .logo {
        height: 4rem; /* Smaller logo */
        margin-left: 0; /* Remove left margin on mobile */
    }

    .logo__img {
        height: 4rem;
    }

    /**
     * Off-canvas mobile navigation panel
     * Slides in from right side of screen
     */
    .nav-list {
        /* Positioning */
        position: fixed;
        top: 0;
        right: 0;
        height: 100vh; /* Full viewport height */
        width: var(--header-mobile-panel-width); /* 60% of screen */

        /* Layout */
        display: flex;
        flex-direction: column; /* Stack items vertically */
        align-items: flex-end; /* Align to right */

        /* Spacing */
        padding-top: 6.4rem; /* Space below header */
        padding-right: var(--spacing-md); /* Right padding */
        box-sizing: border-box;

        /* Visual */
        background-color: var(
            --color-header-bg
        ); /* Semi-transparent background */
        backdrop-filter: blur(10px); /* Enhanced blur for mobile panel */

        /* Animation - hidden by default */
        transform: translateX(100%); /* Off-screen to the right */
        transition: transform var(--header-mobile-transition); /* Smooth slide */
        will-change: transform; /* Performance hint */

        /* Interaction state when hidden */
        pointer-events: none; /* Not clickable when hidden */
        visibility: hidden; /* Hidden from screen readers */
    }

    /**
     * Show menu when .nav-open class is added to .header
     * JavaScript toggles this class (see nav.js)
     */
    .header.nav-open .nav-list {
        transform: translateX(0); /* Slide into view */
        pointer-events: auto; /* Clickable */
        visibility: visible; /* Visible to screen readers */
    }

    /**
     * Mobile menu link styling
     * Larger tap targets for touch devices
     */
    .nav-list li a {
        font-size: var(--font-size-sm); /* 14px */
        padding: 1rem 2rem; /* Larger touch target */
        text-align: right; /* Align text to right */
        width: 100%; /* Full width for larger tap area */
    }

    /**
     * Show mobile menu button
     */
    .btn-mobile-nav {
        display: block;
    }
}

/* ğŸ“± MOBILE (â‰¤768px) */
@media (max-width: 768px) {
    .header {
        padding: 0 var(--spacing-sm); /* 16px padding */
        height: var(--header-height-mobile); /* 48px */
    }

    .logo__img {
        height: var(--header-logo-size-mobile); /* 32px smaller logo */
    }

    .nav-list {
        width: 80%; /* Wider panel on smaller screens */
        padding-top: 5rem; /* Adjust top spacing */
    }

    .nav-list li a {
        font-size: var(--font-size-base); /* 16px for easier reading */
    }
}

/* ğŸ“± SMALL MOBILE (â‰¤480px) */
@media (max-width: 480px) {
    .nav-list {
        width: 100%; /* Full-width panel on small phones */
    }

    .nav-list li a {
        font-size: var(--font-size-sm); /* 14px */
        padding: 1rem; /* Compact padding */
    }

    .header {
        padding: 0 0.8rem; /* Minimal padding */
    }
}

/* ===================================
   9ï¸âƒ£ ACCESSIBILITY FEATURES
   =================================== */

/**
 * Respect users' motion preferences
 * Disable animations for users who prefer reduced motion
 */
@media (prefers-reduced-motion: reduce) {
    .nav-list,
    .nav-list li a::after,
    .btn-mobile-nav,
    .logo {
        transition: none !important; /* Disable all transitions */
        animation: none !important; /* Disable all animations */
    }
}

/**
 * Body scroll lock utility
 * Applied when mobile menu is open to prevent background scrolling
 */
.u-no-scroll {
    overflow: hidden !important; /* Prevent scrolling */
    height: 100vh; /* Lock height */
    /* For mobile browsers that don't respect overflow: hidden on body */
    position: fixed;
    width: 100%;
}

/* ================================================
   ğŸ”Ÿ DEBUG UTILITIES SECTION
   ================================================
   
   ğŸ”§ DEVELOPER TOOLS - Uncomment sections below for debugging
*/

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   VISUAL LAYOUT DEBUGGING
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/*
ğŸ¨ Layout Boundaries Visualization:
Uncomment to see colored borders around header elements

.header { 
    border: 3px solid red !important; 
    background: rgba(255,0,0,0.1) !important;
}

.logo { 
    border: 2px solid blue !important; 
}

.main-nav { 
    border: 2px solid green !important; 
}

.nav-list { 
    border: 2px solid purple !important; 
    background: rgba(128,0,128,0.1) !important;
}

.nav-list li a { 
    outline: 1px dashed orange !important; 
}
*/

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   MOBILE MENU STATE TESTING
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/*
ğŸ“± Test Mobile Menu:
Copy to console to manually test menu states:

// Open menu
document.querySelector('.header').classList.add('nav-open');

// Close menu
document.querySelector('.header').classList.remove('nav-open');

// Toggle menu
document.querySelector('.header').classList.toggle('nav-open');

// Check current state
console.log('Menu open:', document.querySelector('.header').classList.contains('nav-open'));
*/

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   RESPONSIVE BREAKPOINT TESTING
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/*
ğŸ“ Check Current Breakpoint:
Copy to console to see which layout is active:

const width = window.innerWidth;
const layout = 
    width <= 480 ? 'Small Mobile (â‰¤480px)' :
    width <= 768 ? 'Mobile (â‰¤768px)' :
    width <= 991 ? 'Tablet (â‰¤991px)' :
    width <= 1200 ? 'Desktop (â‰¤1200px)' :
    'Large Desktop (>1200px)';
console.log('Current header layout:', layout, `(${width}px)`);
console.log('Mobile menu visible:', width <= 991);
*/

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CSS VARIABLE INSPECTION
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/*
ğŸ›ï¸ Check Header Variables:
Copy to console to see current CSS variable values:

const root = document.documentElement;
const computedStyle = getComputedStyle(root);

console.log('Header Configuration:', {
    'header-height': computedStyle.getPropertyValue('--header-height'),
    'header-logo-size-desktop': computedStyle.getPropertyValue('--header-logo-size-desktop'),
    'header-nav-gap': computedStyle.getPropertyValue('--header-nav-gap'),
    'header-mobile-panel-width': computedStyle.getPropertyValue('--header-mobile-panel-width')
});
*/

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   END OF DEBUG UTILITIES
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* ================================================
   ğŸ“ JAVASCRIPT INTEGRATION NOTES
   ================================================
   
   ğŸ”„ TRANSLATED: JavaScript implementation guide
   Original: "JS hint (RU / EN)"
   
   This CSS works with nav.js which:
   - Toggles .nav-open class on .header element
   - Manages aria-expanded attribute on .btn-mobile-nav
   - Implements focus trap for keyboard navigation
   - Handles body scroll locking with .u-no-scroll class
   
   Example usage:
```javascript
   import { initNav, destroyNav } from './nav.js';
   document.addEventListener('DOMContentLoaded', initNav);
```
   
   The JavaScript handles:
   - Opening/closing menu on button click
   - Closing menu on link click
   - Trapping focus inside open menu
   - Closing menu on Escape key
   - Managing ARIA attributes for accessibility
   
   See nav.js for complete implementation details.
*/
